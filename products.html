<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Products | Memane International</title>
    <style>
        body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f4f4; }
        
        /* Shared Header/Nav */
        .top-bar { background-color: #e9ecef; padding: 10px 50px; display: flex; justify-content: flex-end; gap: 20px; font-size: 13px; color: #555; }
        .header { display: flex; justify-content: space-between; align-items: center; padding: 20px 50px; background: white; border-bottom: 3px solid #8B5A2B; }
        .header h1 { margin: 0; color: #8B5A2B; font-size: 28px; }
        .nav-bar { background-color: #333; display: flex; justify-content: center; padding: 15px 0; position: sticky; top: 0; z-index: 100; }
        .nav-bar a { color: white; text-decoration: none; padding: 0 25px; font-size: 15px; font-weight: 600; text-transform: uppercase; }
        .nav-bar a:hover { color: #f39c12; }

        /* Page Title */
        .page-header { background: #fff; padding: 30px 20px; text-align: center; margin-bottom: 30px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .page-header h2 { color: #333; margin: 0; font-size: 32px; }

        /* Dynamic Product Grid */
        .container { max-width: 1200px; margin: 0 auto 50px auto; padding: 0 20px; }
        .category-section { margin-bottom: 50px; }
        .category-section h3 { border-bottom: 2px solid #8B5A2B; padding-bottom: 10px; color: #555; }
        
        .grid { display: flex; gap: 20px; flex-wrap: wrap; }
        .product-card { background: white; border: 1px solid #ddd; border-radius: 5px; width: calc(25% - 15px); text-align: center; padding-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); transition: 0.3s; }
        .product-card:hover { box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .product-card img { width: 100%; height: 200px; object-fit: cover; border-top-left-radius: 5px; border-top-right-radius: 5px; }
        .product-card h4 { color: #333; margin: 15px 10px; font-size: 16px; height: 40px; }
        
        .btn-group { display: flex; justify-content: center; gap: 10px; padding: 0 10px; }
        .btn { padding: 8px 15px; text-decoration: none; border-radius: 3px; font-size: 14px; font-weight: bold; border: none; cursor: pointer; }
        .btn-enquiry { background: #f39c12; color: #fff; }
        .btn-view { background: #fff; border: 1px solid #333; color: #333; }
        .btn-enquiry:hover { background: #e67e22; }
        .btn-view:hover { background: #333; color: #fff; }
        
        #loading-message { text-align: center; width: 100%; font-size: 20px; color: #8B5A2B; margin-top: 50px; }
        
        /* Footer */
        .footer { background: #222; color: #ccc; padding: 40px 50px; text-align: center; font-size: 14px; }
        
        @media (max-width: 900px) { .product-card { width: calc(33.333% - 14px); } }
        @media (max-width: 600px) { .product-card { width: calc(50% - 10px); } }
    </style>
</head>
<body>

    <div class="top-bar">
        <span>✉ sales@memaneinternational.in</span>
    </div>

    <div class="header">
        <h1>MEMANE INTERNATIONAL</h1>
    </div>

    <div class="nav-bar">
        <a href="index.html">Home</a>
        <a href="#">About Us</a>
        <a href="products.html">Products</a>
        <a href="#">Contact Us</a>
    </div>

    <div class="page-header">
        <h2>Our Complete Product Range</h2>
    </div>

    <div class="container" id="catalog-container">
        <div id="loading-message">Loading catalog...</div>
    </div>

    <div class="footer">
        <p><strong>Memane International</strong></p>
        <p>Pimpri-Chinchwad (PCMC), Pune, Maharashtra, India</p>
        <p>Email: sales@memaneinternational.in</p>
        <p>© 2026 Memane International. All Rights Reserved.</p>
    </div>

    <script>
        fetch('catalog.json')
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('catalog-container');
                const products = data.products;
                const categories = {};

                // Step 1: Sort products into their categories
                for (let id in products) {
                    let cat = products[id].category;
                    if (!categories[cat]) {
                        categories[cat] = [];
                    }
                    // Attach the ID to the product data so we can use it for the button
                    products[id].id = id; 
                    categories[cat].push(products[id]);
                }

                // Step 2: Build the HTML visually
                let htmlOutput = '';
                for (let cat in categories) {
                    htmlOutput += `
                        <div class="category-section">
                            <h3>${cat}</h3>
                            <div class="grid">
                    `;
                    
                    // Loop through each product in this category
                    categories[cat].forEach(p => {
                        htmlOutput += `
                            <div class="product-card">
                                <img src="${p.image}" alt="${p.name}">
                                <h4>${p.name}</h4>
                                <div class="btn-group">
                                    <a href="enquiry.html?product=${encodeURIComponent(p.name)}" class="btn btn-enquiry">Enquiry Now</a>
                                    <a href="product-detail.html?id=${p.id}" class="btn btn-view">View More</a>
                                </div>
                            </div>
                        `;
                    });
                    
                    htmlOutput += `</div></div>`; // Close grid and category section
                }

                // Step 3: Inject the finished HTML into the page
                container.innerHTML = htmlOutput;
            })
            .catch(error => {
                console.error('Error loading catalog:', error);
                document.getElementById('catalog-container').innerHTML = "<h3>Error loading product catalog.</h3>";
            });
    </script>

</body>
</html>
